#!/usr/bin/env bash

# Function to factorize a number into two smaller factors
factorize() {
    local num="$1"
    for ((i = 2; i <= num / 2; i++)); do
        if ((num % i == 0)); then
            echo "$num=$i*$(($num / $i))"
            return
        fi
    done
    echo "$num is prime"  # If no factors found, it's a prime number
}

if [ $# -ne 1 ]; then
    echo 'Usage: factors <file>'
    exit 1
fi

input_file="$1"

if [ ! -e "$input_file" ]; then
    echo "File '$input_file' not found."
    exit 1
fi

while read -r number; do
    if [[ $number =~ ^[0-9]+$ ]] && [ "$number" -gt 1 ]; then
        factorize "$number"
    else
        echo "Invalid number: $number"
    fi
done < "$input_file"

